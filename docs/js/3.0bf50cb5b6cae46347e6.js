webpackJsonp([3],{108:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(133),s=o(134),a=o(41),r=a(n.a,s.a,!1,null,null,null);t.default=r.exports},110:function(e,t,o){"use strict";function n(e,t){return t.v=u,t.access_token||(t.access_token=a.a.state.vk.token),s.a.http.jsonp(i+e,{method:"GET",params:t})}o.d(t,"d",function(){return r}),o.d(t,"c",function(){return c}),o.d(t,"a",function(){return l}),o.d(t,"e",function(){return u}),t.b=n;var s=o(7),a=o(42),r="https://oauth.vk.com/authorize/",i="https://api.vk.com/method/",c="https://oauth.vk.com/blank.html",l=6244330,u="5.69"},133:function(e,t,o){"use strict";var n=o(110),s=o(29);t.a={components:{QOptionGroup:s.s,QBtn:s.c,QInput:s.k,QAlert:s.b},data:function(){return{token:"",scope:[],seePlaceWriteToken:!1}},computed:{haveToken:function(){return!!this.$store.state.vk.token}},methods:{fetchGetPermissions:function(){var e=this;Object(n.b)("account.getAppPermissions",{access_token:this.token}).then(function(t){t.body.response?(e.$store.dispatch("vkSetPermissions",t.body.response),e.$store.dispatch("vkSetToken",e.token),e.$store.dispatch("vkAddLog",{message:"Token installed",icon:"vpn_key",type:"positive"}),e.fetchGetUser(),s.E.create.positive({html:"Token installed"}),e.token="",e.scope=[]):s.E.create.negative({html:t.body.error?t.body.error.error_msg:"Token error"})})},fetchGetUser:function(){var e=this;Object(n.b)("users.get",{fields:"has_photo,photo_100,counters"}).then(function(t){t.body.response?e.$store.dispatch("vkSetUser",t.body.response[0]):s.E.create.negative({html:"User not received"})})},linkGetToken:function(){this.seePlaceWriteToken=!0,window.open(n.d+"?client_id="+n.a+"&display=page&redirect_uri="+n.c+"&scope="+this.scope.join(",")+"&response_type=token&v="+n.e,"_blank")},exit:function(){this.$store.dispatch("vkExit")}}}},134:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{padding:"20px"},attrs:{id:"token"}},[e.haveToken?[o("q-alert",{staticStyle:{"margin-bottom":"1.5rem"},attrs:{color:"warning"}},[e._v("\n      The token is not stored in the browser, so do not close / reload the page unless you want to lose the token.\n    ")]),e._v(" "),o("q-btn",{attrs:{color:"red"},nativeOn:{click:function(t){e.exit()}}},[e._v("Exit")])]:[o("h5",[e._v("Getting a token")]),e._v(" "),o("p",{staticClass:"caption"},[e._v("To run most API methods you need to pass an access_token, a special access key.\n      Token is a string of digits and latin characters and may refer to a user, community or application itself.")]),e._v(" "),o("q-option-group",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{type:"toggle",color:"primary",options:[{label:"Friends",value:"friends"},{label:"Photos",value:"photos"},{label:"Video",value:"video"},{label:"Status",value:"status"},{label:"Messages",value:"messages"},{label:"Wall",value:"wall"},{label:"Docs",value:"docs"},{label:"Groups",value:"groups"}]},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}}),e._v(" "),e.seePlaceWriteToken?e._e():o("q-btn",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{color:"black",outline:""},nativeOn:{click:function(t){e.seePlaceWriteToken=!0}}},[e._v("\n      I have a token\n    ")]),e._v(" "),this.scope.length>0?o("q-btn",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{"icon-right":"send",color:"primary",outline:""},nativeOn:{click:function(t){e.linkGetToken()}}},[e._v("\n      Get a token\n    ")]):e._e(),e._v(" "),e.seePlaceWriteToken?o("q-input",{attrs:{clearable:"",type:"password",color:"red","stack-label":"Token insert here",autofocus:"",after:[{icon:"done",content:!0,handler:function(){e.fetchGetPermissions()}}]},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}):e._e()]],2)},s=[],a={render:n,staticRenderFns:s};t.a=a}});