webpackJsonp([0],{109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(135),o=n(151),i=n(41),s=i(r.a,o.a,!1,null,null,null);t.default=s.exports},110:function(e,t,n){"use strict";function r(e,t){return t.v=f,t.access_token||(t.access_token=i.a.state.vk.token),o.a.http.jsonp(c+e,{method:"GET",params:t})}n.d(t,"d",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return f}),t.b=r;var o=n(7),i=n(42),s="https://oauth.vk.com/authorize/",c="https://api.vk.com/method/",a="https://oauth.vk.com/blank.html",u=6244330,f="5.69"},115:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(44);e.exports.f=function(e){return new r(e)}},116:function(e,t,n){var r=n(31),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(c=r(t))&&"function"==typeof t.callee?"Arguments":c}},117:function(e,t,n){var r=n(8),o=n(44),i=n(2)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:o(n)}},118:function(e,t,n){var r,o,i,s=n(43),c=n(144),a=n(47),u=n(32),f=n(0),l=f.process,h=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,v=f.Dispatch,m=0,g={},_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){_.call(e.data)};h&&d||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){c("function"==typeof e?e:Function(e),t)},r(m),m},d=function(e){delete g[e]},"process"==n(31)(l)?r=function(e){l.nextTick(s(_,e,1))}:v&&v.now?r=function(e){v.now(s(_,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=y,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",y,!1)):r="onreadystatechange"in u("script")?function(e){a.appendChild(u("script")).onreadystatechange=function(){a.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:h,clear:d}},119:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},120:function(e,t,n){var r=n(8),o=n(9),i=n(115);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},135:function(e,t,n){"use strict";function r(e){return new s.a(function(t){return setTimeout(t,e)})}function o(e,t){return Math.round(e-.5+Math.random()*(t-e+1))}var i=n(136),s=n.n(i),c=n(110),a=n(29);t.a={components:{QSpinnerCube:a.x,QField:a.h,QChipsInput:a.g,QInput:a.j,QBtn:a.b,QRange:a.s,QCard:a.c,QCardTitle:a.e,QIcon:a.i,QCardMain:a.d,QTooltip:a.B,QList:a.p,QItem:a.k,QItemSide:a.m,QItemMain:a.l},data:function(){return{itemsNoDelete:[],pass:50,maxCount:0,range:{min:1,max:0},processDelete:!1,processRefresh:!1}},created:function(){this.fetchGetCountPosts()},computed:{countPosts:function(){return 1===this.maxCount?1:this.range.max-this.range.min+1}},methods:{fetchGetCountPosts:function(){var e=this;this.processRefresh=!0,Object(c.b)("wall.get",{count:1}).then(function(t){t.body.response?(e.maxCount=t.body.response.count,e.range.max=e.maxCount,e.$store.dispatch("vkSetUserCounter",{key:"wall",val:e.maxCount})):a.C.create.negative({html:t.body.error?t.body.error.error_msg:"Error: Get Wall"}),e.processRefresh=!1},function(t){e.processRefresh=!1})},fetchGetPostsForDelete:function(e){var t=this;if(this.processDelete=!0,e<1)return this.processDelete=!1,a.C.create.positive({html:"Wall: posts deleted"}),this.$store.dispatch("vkAddLog",{message:"Delete complete",icon:"dashboard",type:"positive"});Object(c.b)("wall.get",{offset:this.range.min,count:e>this.pass?this.pass:e}).then(function(n){if(n.body.response&&n.body.response.items.length)return t.$store.dispatch("vkAddLog",{message:"Receiving posts for removal",icon:"dashboard",type:"info"}),t.fetchDeletePost(n.body.response.items,0,e);t.processDelete=!1,a.C.create.negative({html:n.body.error?n.body.error.error_msg:"Wall: stop deleting"}),t.$store.dispatch("vkAddLog",{message:"Stop deleting",icon:"dashboard",type:"negative"})},function(e){return t.processDelete=!1,a.C.create.negative({html:"Wall: stop deleting"}),t.$store.dispatch("vkAddLog",{message:"Stop deleting",icon:"dashboard",type:"negative"})})},fetchDeletePost:function(e,t,n){var i=this;if(void 0===e[t])return this.fetchGetPostsForDelete(n-this.pass);var s=e[t];if(delete e[t],this.itemsNoDelete.indexOf(s.id.toString())>-1)return this.$store.dispatch("vkAddLog",{message:"Keep id: "+s.id,icon:"dashboard",type:"positive"}),this.range.max--,this.fetchDeletePost(e,++t,n);r(o(500,2500)).then(function(){Object(c.b)("wall.delete",{post_id:s.id}).then(function(r){return i.$store.dispatch("vkAddLog",{message:r.body.response?"Deleted id: "+s.id:"Not deleted id: "+s.id,icon:"dashboard",type:r.body.response?"positive":"negative"}),r.body.response&&(i.$store.dispatch("vkCounterUserDecrement","wall"),i.maxCount--,i.range.max--,i.range.min>i.maxCount)?(i.range.min=i.maxCount,i.fetchGetPostsForDelete(0)):i.fetchDeletePost(e,++t,n)},function(e){return i.processDelete=!1,a.C.create.negative({html:"Wall: stop deleting"}),i.$store.dispatch("vkAddLog",{message:"Stop deleting",icon:"dashboard",type:"negative"})})})}}}},136:function(e,t,n){e.exports={default:n(137),__esModule:!0}},137:function(e,t,n){n(49),n(45),n(48),n(138),n(149),n(150),e.exports=n(14).Promise},138:function(e,t,n){"use strict";var r,o,i,s,c=n(16),a=n(0),u=n(43),f=n(116),l=n(30),h=n(9),d=n(44),p=n(139),v=n(140),m=n(117),g=n(118).set,_=n(145)(),y=n(115),b=n(119),x=n(120),P=a.TypeError,w=a.process,D=a.Promise,k="process"==f(w),C=function(){},j=o=y.f,R=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(C,C)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t}catch(e){}}(),q=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,s=o?t.ok:t.fail,c=t.resolve,a=t.reject,u=t.domain;try{s?(o||(2==e._h&&A(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&u.exit()),n===t.promise?a(P("Promise-chain cycle")):(i=q(n))?i.call(n,c,a):c(n)):a(r)}catch(e){a(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&S(e)})}},S=function(e){g.call(a,function(){var t,n,r,o=e._v,i=T(e);if(i&&(t=b(function(){k?w.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=k||T(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},T=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!T(t.promise))return!1;return!0},A=function(e){g.call(a,function(){var t;k?w.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},E=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),Q(t,!0))},M=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw P("Promise can't be resolved itself");(t=q(e))?_(function(){var r={_w:n,_d:!1};try{t.call(e,u(M,r,1),u(E,r,1))}catch(e){E.call(r,e)}}):(n._v=e,n._s=1,Q(n,!1))}catch(e){E.call({_w:n,_d:!1},e)}}};R||(D=function(e){p(this,D,"Promise","_h"),d(e),r.call(this);try{e(u(M,this,1),u(E,this,1))}catch(e){E.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(146)(D.prototype,{then:function(e,t){var n=j(m(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Q(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(M,e,1),this.reject=u(E,e,1)},y.f=j=function(e){return e===D||e===s?new i(e):o(e)}),l(l.G+l.W+l.F*!R,{Promise:D}),n(17)(D,"Promise"),n(147)("Promise"),s=n(14).Promise,l(l.S+l.F*!R,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(c||!R),"Promise",{resolve:function(e){return x(c&&this===s?D:this,e)}}),l(l.S+l.F*!(R&&n(148)(function(e){D.all(e).catch(C)})),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,s=1;v(e,!1,function(e){var c=i++,a=!1;n.push(void 0),s++,t.resolve(e).then(function(e){a||(a=!0,n[c]=e,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,o=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},139:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},140:function(e,t,n){var r=n(43),o=n(141),i=n(142),s=n(8),c=n(46),a=n(143),u={},f={},t=e.exports=function(e,t,n,l,h){var d,p,v,m,g=h?function(){return e}:a(e),_=r(n,l,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=c(e.length);d>y;y++)if((m=t?_(s(p=e[y])[0],p[1]):_(e[y]))===u||m===f)return m}else for(v=g.call(e);!(p=v.next()).done;)if((m=o(v,_,p.value,t))===u||m===f)return m};t.BREAK=u,t.RETURN=f},141:function(e,t,n){var r=n(8);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},142:function(e,t,n){var r=n(15),o=n(2)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},143:function(e,t,n){var r=n(116),o=n(2)("iterator"),i=n(15);e.exports=n(14).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},144:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},145:function(e,t,n){var r=n(0),o=n(118).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,c=r.Promise,a="process"==n(31)(s);e.exports=function(){var e,t,n,u=function(){var r,o;for(a&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(a)n=function(){s.nextTick(u)};else if(i){var f=!0,l=document.createTextNode("");new i(u).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(c&&c.resolve){var h=c.resolve();n=function(){h.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},146:function(e,t,n){var r=n(3);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},147:function(e,t,n){"use strict";var r=n(0),o=n(14),i=n(4),s=n(5),c=n(2)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[c]&&i.f(t,c,{configurable:!0,get:function(){return this}})}},148:function(e,t,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},149:function(e,t,n){"use strict";var r=n(30),o=n(14),i=n(0),s=n(117),c=n(120);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then(function(){return n})}:e,n?function(n){return c(t,e()).then(function(){throw n})}:e)}})},150:function(e,t,n){"use strict";var r=n(30),o=n(115),i=n(119);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},151:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticStyle:{margin:"0"}},[n("q-card-title",[n("q-icon",{attrs:{name:"dashboard"}}),e._v(" Wall\n    "),n("q-btn",{attrs:{slot:"right",flat:"",round:"",small:"",color:"primary",loader:""},on:{click:function(t){e.fetchGetCountPosts()}},slot:"right",model:{value:e.processRefresh,callback:function(t){e.processRefresh=t},expression:"processRefresh"}},[n("q-icon",{attrs:{name:"refresh"}}),e._v(" "),n("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle"}},[e._v("Refresh")])],1)],1),e._v(" "),n("q-card-main",[e.maxCount>0?[e.maxCount>1?n("q-list",[n("q-item",[n("q-item-side",[e._v("Range")]),e._v(" "),n("q-item-main",[n("q-range",{attrs:{min:1,disabled:e.processDelete,max:e.maxCount,step:1,label:""},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}})],1)],1)],1):n("small",[e._v("Last post")]),e._v(" "),n("q-field",{staticStyle:{"margin-bottom":"2rem"},attrs:{icon:"save",count:"",helper:"Press: Enter"}},[n("q-chips-input",{attrs:{disabled:e.processDelete,"float-label":"Keep posts [ID's]"},model:{value:e.itemsNoDelete,callback:function(t){e.itemsNoDelete=t},expression:"itemsNoDelete"}})],1),e._v(" "),n("q-btn",{staticClass:"full-width",attrs:{icon:"delete",color:"red",loader:"",outline:"",disabled:e.countPosts<1||e.processDelete},nativeOn:{click:function(t){e.fetchGetPostsForDelete(e.countPosts)}},model:{value:e.processDelete,callback:function(t){e.processDelete=t},expression:"processDelete"}},[e._v("\n        Delete "+e._s(e.countPosts)+" post"+e._s(e.countPosts>1?"s":"")+"\n      ")])]:[e._v("\n      The wall is empty\n    ")]],2)],1)},o=[],i={render:r,staticRenderFns:o};t.a=i}});