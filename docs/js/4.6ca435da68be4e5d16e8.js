webpackJsonp([4],{109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(123),s=n(141),r=n(42),a=r(o.a,s.a,!1,null,null,null);t.default=a.exports},111:function(e,t,n){"use strict";function o(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;console.log("Add log"),r.a.dispatch("addLog",{social_name:e,social_icon:s(e),header:t,message:n,icon:o,color:a,link:i,time:null})}function s(e){switch(e){case a:return"fa-facebook";case i:return"fa-twitter";case c:return"fa-vk";default:return""}}n.d(t,"f",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return k}),t.i=o,t.j=s;var r=n(43),a="Facebook",i="Twitter",c="VK",l="positive",u="negative",d="info",p="vpn_key",k="dashboard"},112:function(e,t,n){"use strict";function o(e,t){return t.v=u,t.access_token||(t.access_token=r.a.state.vk.token),s.a.http.jsonp(i+e,{method:"GET",params:t})}n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return u}),t.b=o;var s=n(3),r=n(43),a="https://oauth.vk.com/authorize/",i="https://api.vk.com/method/",c="https://oauth.vk.com/blank.html",l=6244330,u="5.69"},123:function(e,t,n){"use strict";var o=n(111),s=n(112),r=n(29);t.a={components:{QOptionGroup:r.x,QBtn:r.c,QInput:r.p,QAlert:r.b},data:function(){return{token:"",scope:[],seePlaceWriteToken:!1}},computed:{haveToken:function(){return!!this.$store.state.vk.token}},methods:{fetchGetPermissions:function(){var e=this;Object(s.b)("account.getAppPermissions",{access_token:this.token}).then(function(t){t.body.response?(e.$store.dispatch("vkSetPermissions",t.body.response),e.$store.dispatch("vkSetToken",e.token),Object(o.i)(o.h,"Token installed","Sections are open",o.d,o.c),e.fetchGetUser(),r.N.create.positive({html:"Token installed"}),e.token="",e.scope=[]):r.N.create.negative({html:t.body.error?t.body.error.error_msg:"Token error"})})},fetchGetUser:function(){var e=this;Object(s.b)("users.get",{fields:"has_photo,photo_100,counters"}).then(function(t){t.body.response?e.$store.dispatch("vkSetUser",t.body.response[0]):r.N.create.negative({html:"User not received"})})},linkGetToken:function(){this.seePlaceWriteToken=!0,window.open(s.d+"?client_id="+s.a+"&display=page&redirect_uri="+s.c+"&scope="+this.scope.join(",")+"&response_type=token&v="+s.e,"_blank")},exit:function(){this.$store.dispatch("vkExit")}}}},141:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"20px"},attrs:{id:"token"}},[e.haveToken?[n("q-alert",{staticStyle:{"margin-bottom":"1.5rem"},attrs:{color:"warning"}},[e._v("\n      The token is not stored in the browser, so do not close / reload the page unless you want to lose the token.\n    ")]),e._v(" "),n("q-btn",{attrs:{color:"red"},nativeOn:{click:function(t){e.exit()}}},[e._v("Exit")])]:[n("h5",[e._v("Getting a token")]),e._v(" "),n("p",{staticClass:"caption"},[e._v("To run most API methods you need to pass an access_token, a special access key.\n      Token is a string of digits and latin characters and may refer to a user, community or application itself.")]),e._v(" "),n("q-option-group",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{type:"toggle",color:"primary",options:[{label:"Friends",value:"friends"},{label:"Photos",value:"photos"},{label:"Video",value:"video"},{label:"Status",value:"status"},{label:"Messages",value:"messages"},{label:"Wall",value:"wall"},{label:"Docs",value:"docs"},{label:"Groups",value:"groups"}]},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}}),e._v(" "),e.seePlaceWriteToken?e._e():n("q-btn",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{color:"black",outline:""},nativeOn:{click:function(t){e.seePlaceWriteToken=!0}}},[e._v("\n      I have a token\n    ")]),e._v(" "),this.scope.length>0?n("q-btn",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{"icon-right":"send",color:"primary",outline:""},nativeOn:{click:function(t){e.linkGetToken()}}},[e._v("\n      Get a token\n    ")]):e._e(),e._v(" "),e.seePlaceWriteToken?n("q-input",{attrs:{clearable:"",type:"password",color:"red","stack-label":"Token insert here",autofocus:"",after:[{icon:"done",content:!0,handler:function(){e.fetchGetPermissions()}}]},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}):e._e()]],2)},s=[],r={render:o,staticRenderFns:s};t.a=r}});